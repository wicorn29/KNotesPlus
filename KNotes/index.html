<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>KNotes+</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" media="screen" href="styles.css">

    <script src="assets/polyfill.js"></script> <!-- For Promises -->
    <script src="script.js"></script>
</head>
<body onload="onPageLoad()">
    <div id="log" style="display:none;"></div>

    <h1>KNotes+</h1>

    <div id="view-buttons">
        <button id="notes-view-btn" onclick="showNotesView()" class="active">Notes</button>
        <button id="kanban-view-btn" onclick="showKanbanView()">Kanban</button>
    </div>

    <div id="app-container">
        <div id="message" class="message"></div>

        <button id="toggle-editor" onclick="toggleEditor()">Show Editor</button>

        <div id="editor" class="editor">
            <div class="editor-header">
                <span id="current-note-title">Select a note to edit</span>
                <div class="editor-buttons">
                    <button id="save-button" onclick="saveNote()" disabled>Save</button>
                    <button id="delete-button" onclick="deleteNote()" disabled>Delete</button>
                </div>
            </div>
            <textarea id="note-content" placeholder="Start writing your note here..."></textarea>
        </div>

        <div id="notes-list" class="notes-list">
            <h2>Your Notes</h2>
            <div id="notes-container">
                <!-- Notes will be populated by JavaScript -->
            </div>
            <button id="new-note-button" onclick="createNewNote()">New Note</button>
        </div>
    </div>

    <div id="kanban-board" style="display:none;">
        <div id="kanban-controls">
            <button id="save-kanban-btn" onclick="saveKanbanBoard()">Save Kanban</button>
            <button id="add-card-btn" onclick="addCard('todo')">Add Card</button>
        </div>
        <div id="kanban-list">
            <!-- Cards will be populated by JavaScript -->
        </div>
    </div>

    <div id="delete-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeDeleteModal()">&times;</span>
            <p>Are you sure you want to delete this note?</p>
            <button onclick="confirmDelete()">Yes, Delete</button>
            <button onclick="closeDeleteModal()">Cancel</button>
        </div>
    </div>

    <div id="create-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeCreateModal()">&times;</span>
            <p>Enter a name for your new note:</p>
            <input type="text" id="new-note-name" placeholder="Note name" maxlength="50">
            <button onclick="confirmCreateNote()">Create</button>
            <button onclick="closeCreateModal()">Cancel</button>
        </div>
    </div>

    <div id="kanban-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeKanbanModal()">&times;</span>
            <p>Enter a title for your new card:</p>
            <input type="text" id="new-card-title" placeholder="Card title" maxlength="100">
            <button onclick="confirmAddCard()">Add</button>
            <button onclick="closeKanbanModal()">Cancel</button>
        </div>
    </div>

    <div class="footer">
        <p>KNotes - Notes for Kindle</p>
    </div>
</body>
</html>
